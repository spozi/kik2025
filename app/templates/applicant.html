<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <title>Borang Permohonan Cuti Gantian</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h2>Universiti Utara Malaysia - Borang Permohonan Cuti Gantian</h2>
    <form action="/applicant" method="post" enctype="multipart/form-data">
        <fieldset>
            <legend>A. Butir Permohonan</legend>
            <label for="nama_pemohon">Nama Pemohon:</label>
            <input type="text" id="nama_pemohon" name="nama_pemohon" required><br><br>
            
            <label for="no_kakitangan">No. Kakitangan:</label>
            <input type="text" id="no_kakitangan" name="no_kakitangan" required><br><br>
            
            <label for="jawatan">Jawatan:</label>
            <input type="text" id="jawatan" name="jawatan" required><br><br>
            
            <label for="jabatan">Jabatan/Kolej:</label>
            <input type="text" id="jabatan" name="jabatan" required><br><br>
            
            <label for="jumlah_cuti">Jumlah Cuti Dipohon:</label>
            <input type="number" id="jumlah_cuti" name="jumlah_cuti" required> hari
            <p>(9 jam bertugas bersamaan satu (1) hari cuti gantian)</p>

            <label for="dokumen_sokongan">Dokumen Sokongan (PDF):</label>
            <input type="file" id="dokumen_sokongan" name="dokumen_sokongan" accept="application/pdf" required><br><br>

            <label>Maklumat kerja lebih masa:</label>
            <table id="overtimeTable" border="1">
                <tr>
                    <th>Tarikh</th>
                    <th>Masa</th>
                    <th>Tempoh (jam)</th>
                    <th>Tujuan & Tempat Bertugas</th>
                    <th>Tindakan</th>
                </tr>
                <tr>
                    <td><input type="date" name="tarikh_kerja[]" required></td>
                    <td><input type="time" name="masa_kerja[]" required></td>
                    <td><input type="number" name="tempoh_kerja[]" required></td>
                    <td><textarea name="tujuan_kerja[]" rows="3" cols="30" required></textarea></td>
                    <td><button type="button" onclick="removeRow(this)">Hapus</button></td>
                </tr>
            </table>
            <button type="button" onclick="addRow()">Tambah Rekod</button>
            <br><br>
            
            <label for="tarikh_permohonan">Tarikh:</label>
            <input type="date" id="tarikh_permohonan" name="tarikh_permohonan" required readonly><br><br>
            
            <label for="tandatangan_pemohon">Tandatangan Pemohon:</label>
            <input type="text" id="tandatangan_pemohon" name="tandatangan_pemohon" required><br><br>
        </fieldset>
        
        <input type="submit" value="Hantar Permohonan">
    </form>

    <script>
        // JavaScript functions for dynamic rows
        function addRow() {
            var table = document.getElementById("overtimeTable");
            var row = table.insertRow(-1);
            row.innerHTML = `
                <td><input type="date" name="tarikh_kerja[]" required></td>
                <td><input type="time" name="masa_kerja[]" required></td>
                <td><input type="number" name="tempoh_kerja[]" required></td>
                <td><textarea name="tujuan_kerja[]" rows="3" cols="30" required></textarea></td>
                <td><button type="button" onclick="removeRow(this)">Hapus</button></td>
            `;
        }

        function removeRow(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }
      
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("tarikh_permohonan").valueAsDate = new Date();
        });
    </script>
</body>
</html>